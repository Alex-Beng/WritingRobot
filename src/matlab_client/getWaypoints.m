% 1. Hard code first, for validation
% 2. communicate with stroke server, 

load gen3
load gen3positions

eeName = 'Gripper';
numJoints = numel(gen3.homeConfiguration);
ikInitGuess = gen3.homeConfiguration;


%  y z 平面的(0.4 0.4)区域绘制
% (255 255) -> (0.4 0.4)
waypoints = toolPositionHome' + ... 
[0 0.04235294117647059 0.19137254901960787 ;
0 0.04392156862745098 0.19137254901960787 ;
0 0.045490196078431376 0.18980392156862746 ;
0 0.047058823529411764 0.18980392156862746 ;
0 0.04862745098039216 0.18980392156862746 ;
0 0.050196078431372554 0.18823529411764706 ;
0 0.05176470588235295 0.18823529411764706 ;
0 0.05333333333333334 0.18980392156862746 ;
0 0.05490196078431373 0.18823529411764706 ;
0 0.05647058823529412 0.18823529411764706 ;
0 0.058039215686274515 0.18823529411764706 ;
0 0.0596078431372549 0.18823529411764706 ;
0 0.061176470588235304 0.18666666666666668 ;
0 0.06274509803921569 0.18666666666666668 ;
0 0.06431372549019608 0.18666666666666668 ;
0 0.06588235294117648 0.18666666666666668 ;
0 0.06745098039215687 0.18666666666666668 ;
0 0.06901960784313725 0.18666666666666668 ;
0 0.07058823529411766 0.18666666666666668 ;
0 0.07215686274509804 0.18666666666666668 ;
0 0.07372549019607844 0.18823529411764706 ;
0 0.07529411764705883 0.18823529411764706 ;
0 0.07686274509803923 0.18823529411764706 ;
0 0.0784313725490196 0.18823529411764706 ;
0 0.08000000000000002 0.18823529411764706 ;
0 0.0815686274509804 0.18823529411764706 ;
0 0.08313725490196079 0.18823529411764706 ;
0 0.08470588235294119 0.18823529411764706 ;
0 0.08627450980392158 0.18823529411764706 ;
0 0.08784313725490196 0.18823529411764706 ;
0 0.08941176470588236 0.18823529411764706 ;
0 0.09098039215686275 0.18980392156862746 ;
0 0.09254901960784315 0.18980392156862746 ;
0 0.09411764705882353 0.18980392156862746 ;
0 0.09568627450980394 0.18980392156862746 ;
0 0.09725490196078432 0.18980392156862746 ;
0 0.09882352941176471 0.18980392156862746 ;
0 0.10039215686274511 0.18980392156862746 ;
0 0.10196078431372549 0.18980392156862746 ;
0 0.1035294117647059 0.18980392156862746 ;
0 0.10509803921568628 0.18980392156862746 ;
0 0.10666666666666667 0.18980392156862746 ;
0 0.10823529411764705 0.19137254901960787 ;
0 0.10980392156862746 0.19137254901960787 ;
0 0.11137254901960786 0.19137254901960787 ;
0 0.11294117647058824 0.19137254901960787 ;
0 0.11450980392156862 0.19137254901960787 ;
0 0.11607843137254903 0.19137254901960787 ;
0 0.11764705882352942 0.19137254901960787 ;
0 0.1192156862745098 0.19137254901960787 ;
0 0.1207843137254902 0.19137254901960787 ;
0 0.12235294117647061 0.19137254901960787 ;
0 0.12392156862745099 0.19137254901960787 ;
0 0.12549019607843137 0.19294117647058825 ;
0 0.12705882352941175 0.19294117647058825 ;
0 0.12862745098039216 0.19294117647058825 ;
0 0.13019607843137257 0.19294117647058825 ;
0 0.13176470588235295 0.19294117647058825 ;
0 0.13333333333333333 0.19294117647058825 ;
0 0.13490196078431374 0.19294117647058825 ;
0 0.13647058823529412 0.19294117647058825 ;
0 0.1380392156862745 0.19294117647058825 ;
0 0.1396078431372549 0.19294117647058825 ;
0 0.14117647058823532 0.19294117647058825 ;
0 0.1427450980392157 0.19450980392156864 ;
0 0.14431372549019608 0.19450980392156864 ;
0 0.14588235294117646 0.19450980392156864 ;
0 0.14745098039215687 0.19450980392156864 ;
0 0.14901960784313725 0.19450980392156864 ;
0 0.15058823529411766 0.19450980392156864 ;
0 0.15215686274509804 0.19450980392156864 ;
0 0.15372549019607845 0.19450980392156864 ;
0 0.15529411764705883 0.19450980392156864 ;
0 0.1568627450980392 0.19450980392156864 ;
0 0.15843137254901962 0.19450980392156864 ;
0 0.16000000000000003 0.19607843137254902 ;
0 0.1615686274509804 0.19607843137254902 ;
0 0.1631372549019608 0.19607843137254902 ;
0 0.16470588235294117 0.19607843137254902 ;
0 0.16627450980392158 0.19607843137254902 ;
0 0.16784313725490196 0.19607843137254902 ;
0 0.16941176470588237 0.19607843137254902 ;
0 0.17098039215686275 0.19607843137254902 ;
0 0.17254901960784316 0.19607843137254902 ;
0 0.17411764705882354 0.19607843137254902 ;
0 0.17568627450980392 0.19607843137254902 ;
0 0.1772549019607843 0.19764705882352943 ;
0 0.17882352941176471 0.19764705882352943 ;
0 0.18039215686274512 0.19764705882352943 ;
0 0.1819607843137255 0.19764705882352943 ;
0 0.18352941176470589 0.19764705882352943 ;
0 0.1850980392156863 0.19764705882352943 ;
0 0.18666666666666668 0.19764705882352943 ;
0 0.18823529411764706 0.19764705882352943 ;
0 0.18980392156862746 0.19764705882352943 ;
0 0.19137254901960787 0.19764705882352943 ;
0 0.19294117647058825 0.19764705882352943 ;
0 0.19450980392156864 0.1992156862745098 ;
0 0.19607843137254902 0.1992156862745098 ;
0 0.19764705882352943 0.1992156862745098 ;
0 0.1992156862745098 0.1992156862745098 ;
0 0.20078431372549022 0.1992156862745098 ;
0 0.2023529411764706 0.1992156862745098 ;
0 0.20392156862745098 0.1992156862745098 ;
0 0.20549019607843136 0.1992156862745098 ;
0 0.2070588235294118 0.1992156862745098 ;
0 0.20862745098039218 0.1992156862745098 ;
0 0.21019607843137256 0.1992156862745098 ;
0 0.21176470588235297 0.20078431372549022 ;
0 0.21333333333333335 0.20078431372549022 ;
0 0.21490196078431373 0.20078431372549022 ;
0 0.2164705882352941 0.20078431372549022 ;
0 0.2180392156862745 0.20078431372549022 ;
0 0.21960784313725493 0.20078431372549022 ;
0 0.2211764705882353 0.20078431372549022 ;
0 0.22274509803921572 0.20078431372549022 ;
0 0.2243137254901961 0.20078431372549022 ;
0 0.22588235294117648 0.20078431372549022 ;
0 0.22745098039215686 0.20078431372549022 ;
0 0.22901960784313724 0.2023529411764706 ;
0 0.23058823529411765 0.2023529411764706 ;
0 0.23215686274509806 0.2023529411764706 ;
0 0.23372549019607847 0.2023529411764706 ;
0 0.23529411764705885 0.2023529411764706 ;
0 0.23686274509803923 0.2023529411764706 ;
0 0.2384313725490196 0.2023529411764706 ;
0 0.24 0.2023529411764706 ;
0 0.2415686274509804 0.2023529411764706 ;
0 0.24313725490196078 0.2023529411764706 ;
0 0.24470588235294122 0.2023529411764706 ;
0 0.2462745098039216 0.20392156862745098 ;
0 0.24784313725490198 0.20392156862745098 ;
0 0.24941176470588236 0.20392156862745098 ;
0 0.25098039215686274 0.20392156862745098 ;
0 0.25254901960784315 0.20392156862745098 ;
0 0.2541176470588235 0.20392156862745098 ;
0 0.2556862745098039 0.20392156862745098 ;
0 0.2572549019607843 0.20392156862745098 ;
0 0.25882352941176473 0.20392156862745098 ;
0 0.26039215686274514 0.20392156862745098 ;
0 0.2619607843137255 0.20392156862745098 ;
0 0.2635294117647059 0.20549019607843136 ;
0 0.26509803921568625 0.20549019607843136 ;
0 0.26666666666666666 0.20549019607843136 ;
0 0.26823529411764707 0.20549019607843136 ;
0 0.2698039215686275 0.20549019607843136 ;
0 0.2713725490196079 0.20549019607843136 ;
0 0.27294117647058824 0.20549019607843136 ;
0 0.27450980392156865 0.20549019607843136 ;
0 0.276078431372549 0.20549019607843136 ;
0 0.2776470588235294 0.20549019607843136 ;
0 0.2792156862745098 0.20549019607843136 ;
0 0.2807843137254902 0.2070588235294118 ;
0 0.28235294117647064 0.2070588235294118 ;
0 0.283921568627451 0.2070588235294118 ;
0 0.2854901960784314 0.2070588235294118 ;
0 0.28705882352941176 0.2070588235294118 ;
0 0.28862745098039216 0.2070588235294118 ;
0 0.2901960784313726 0.2070588235294118 ;
0 0.2917647058823529 0.2070588235294118 ;
0 0.29333333333333333 0.2070588235294118 ;
0 0.29490196078431374 0.2070588235294118 ;
0 0.29647058823529415 0.2070588235294118 ;
0 0.2980392156862745 0.20862745098039218 ;
0 0.2996078431372549 0.20862745098039218 ;
0 0.3011764705882353 0.20862745098039218 ;
0 0.3027450980392157 0.20862745098039218 ;
0 0.3043137254901961 0.20862745098039218 ;
0 0.3058823529411765 0.20862745098039218 ;
0 0.3074509803921569 0.20862745098039218 ;
0 0.3090196078431373 0.20862745098039218 ;
0 0.31058823529411766 0.20862745098039218 ;
0 0.3121568627450981 0.20862745098039218 ;
0 0.3137254901960784 0.20862745098039218 ;
0 0.31529411764705884 0.21019607843137256 ;
0 0.31686274509803924 0.21019607843137256 ;
0 0.3184313725490196 0.21019607843137256 ;
0 0.32000000000000006 0.21019607843137256 ;
0 0.3215686274509804 0.21019607843137256 ;
0 0.3231372549019608 0.21019607843137256 ;
0 0.3247058823529412 0.21019607843137256 ;
0 0.3262745098039216 0.21019607843137256 ;
0 0.327843137254902 0.21019607843137256 ;
0 0.32941176470588235 0.21019607843137256 ;
0 0.33098039215686276 0.21019607843137256 ;
0 0.33254901960784317 0.21176470588235297 ;
0 0.3341176470588236 0.21176470588235297 ;
0 0.33568627450980393 0.21176470588235297 ;
0 0.33725490196078434 0.21176470588235297 ;
0 0.33882352941176475 0.21333333333333335 ;
0 0.3403921568627451 0.21333333333333335 ;
0 0.3419607843137255 0.21333333333333335 ;
0 0.34352941176470586 0.21333333333333335 ;
0 0.3450980392156863 0.21333333333333335 ;
0 0.3466666666666667 0.21176470588235297 ;
0 0.3482352941176471 0.21176470588235297 ;
0 0.3498039215686275 0.21176470588235297 ;
0 0.35137254901960785 0.21176470588235297 ;
0 0.35294117647058826 0.21176470588235297 ;
0 0.3545098039215686 0.21176470588235297 ;
0 0.356078431372549 0.21019607843137256 ;
0 0.35764705882352943 0.21019607843137256 ;
0 0.35921568627450984 0.21019607843137256 ;
]';

% we don't need orientation
% home configuration 垂直yz平面就够了


% 到达waypoint的时间
waypointTimes = 0:202:16;

% 时间采样精度
ts = 0.2;
trajTimes = 0:ts:waypointTimes(end);

